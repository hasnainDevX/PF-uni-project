<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Game</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body{% if quiz_started %} style="--quiz-progress: {{ (question_number / total_questions) * 100 }};"{% endif %}>
    
    {% if not quiz_started %}
    <!-- HOME PAGE - Category Selection -->
    <div class="home-container">
        <div class="home-content">
            <div class="hero-section">
                <h1 class="main-title">Quiz Master</h1>
                <p class="subtitle">Challenge yourself across multiple knowledge domains</p>
            </div>
            
            <form method="POST" action="/start_quiz" class="quiz-form">
                <h2 class="section-title">Choose Your Category</h2>
                
                <div class="category-grid">
                    {% for cat in categories %}
                    <label class="category-card">
                        <input type="radio" name="category" value="{{ cat }}" required>
                        <div class="card-content">
                            <div class="icon-wrapper">
                                {% if cat == "Science" %}
                                    <svg class="category-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                                        <polyline points="14 2 14 8 20 8"/>
                                    </svg>
                                {% elif cat == "History" %}
                                    <svg class="category-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"/>
                                        <polyline points="12 6 12 12 16 14"/>
                                    </svg>
                                {% elif cat == "Sports" %}
                                    <svg class="category-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"/>
                                        <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/>
                                        <path d="M2 12h20"/>
                                    </svg>
                                {% elif cat == "Programming Basics" %}
                                    <svg class="category-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="16 18 22 12 16 6"/>
                                        <polyline points="8 6 2 12 8 18"/>
                                    </svg>
                                {% elif cat == "Tech History" %}
                                    <svg class="category-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
                                        <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
                                    </svg>
                                {% elif cat == "Software & Tools" %}
                                    <svg class="category-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                                    </svg>
                                {% elif cat == "Engineering" %}
                                    <svg class="category-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="3"/>
                                        <path d="M12 1v6m0 6v6m5.2-13.2l-4.2 4.2m-2 2l-4.2 4.2M23 12h-6m-6 0H1m18.2 5.2l-4.2-4.2m-2-2l-4.2-4.2"/>
                                    </svg>
                                {% else %}
                                    <svg class="category-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"/>
                                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                                    </svg>
                                {% endif %}
                            </div>
                            <h3 class="card-title">{{ cat }}</h3>
                            <div class="card-check"></div>
                        </div>
                    </label>
                    {% endfor %}
                </div>
                
                <button type="submit" class="btn-start">Begin Quiz</button>
            </form>
        </div>
    </div>
    
    {% else %}
    <!-- QUIZ PAGE - Questions -->
    <div class="quiz-container">
        <div class="quiz-content">
            <div class="quiz-header">
                <div class="category-badge">{{ category }}</div>
                <p class="question-counter">Question {{ question_number }} of {{ total_questions }}</p>
            </div>
            
            <div class="progress-bar">
               <div class="progress-fill"></div>
            </div>
            
            <div class="question-section">
                <h2 class="question-text">{{ question.question }}</h2>
                
                <form method="POST" action="/submit_answer" class="answer-form">
                    <div class="options-grid">
                        {% for option in question.options %}
                        <label class="option-card">
                            <input type="radio" name="answer" value="{{ option }}" required>
                            <div class="option-content">
                                <span class="option-letter">{{ loop.index | upper }}</span>
                                <span class="option-text">{{ option }}</span>
                                <div class="option-check"></div>
                            </div>
                        </label>
                        {% endfor %}
                    </div>
                    
                    <button type="submit" class="btn-submit">
                        {% if question_number < total_questions %}
                        Next Question
                        {% else %}
                        Finish Quiz
                        {% endif %}
                    </button>
                </form>
            </div>
        </div>
    </div>
    {% endif %}
    
</body>
</html>